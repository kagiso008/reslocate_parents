import 'package:flutter/material.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:reslocate/pastPapers/grade10/Accounting/accounting.dart';
import 'package:reslocate/pastPapers/grade10/AgriculturalSciences/AgriculturalScience.dart';
import 'package:reslocate/pastPapers/grade10/BusinessStudies/businessStudies.dart';
import 'package:reslocate/pastPapers/grade10/Economics/economics.dart';
import 'package:reslocate/pastPapers/grade10/English/english.dart';
import 'package:reslocate/pastPapers/grade10/Geography/geography.dart';
import 'package:reslocate/pastPapers/grade10/History/history.dart';
import 'package:reslocate/pastPapers/grade10/LifeSciences/lifeSciences.dart';
import 'package:reslocate/pastPapers/grade10/MathematicalLiteracy/mathsLit.dart';
import 'package:reslocate/pastPapers/grade10/Mathematics/maths.dart';
import 'package:reslocate/pastPapers/grade10/PhysicalSciences/physicalSciences.dart';
import 'package:reslocate/pastPapers/grade10/Setswana/setswana.dart';
import 'package:reslocate/pastPapers/grade10/TechnicalMathematics/technicalMath.dart';
import 'package:reslocate/pastPapers/grade10/TechnicalSciences/technicalScience.dart';
import 'package:reslocate/pastPapers/grade10IEB/Accounting/accounting.dart';
import 'package:reslocate/pastPapers/grade10IEB/Afrikaans/Afrikaans.dart';
import 'package:reslocate/pastPapers/grade10IEB/BusinessStudies/businessStudies.dart';
import 'package:reslocate/pastPapers/grade10IEB/ConsumerStudies/consumerStudies.dart';
import 'package:reslocate/pastPapers/grade10IEB/DramaticArts/dramaticArts.dart';
import 'package:reslocate/pastPapers/grade10IEB/English/english.dart';
import 'package:reslocate/pastPapers/grade10IEB/Geography/geography.dart';
import 'package:reslocate/pastPapers/grade10IEB/History/history.dart';
import 'package:reslocate/pastPapers/grade10IEB/IsiZulu/isiZulu.dart';
import 'package:reslocate/pastPapers/grade10IEB/LifeSciences/lifeSciences.dart';
import 'package:reslocate/pastPapers/grade10IEB/MathematicalLiteracy/mathsLit.dart';
import 'package:reslocate/pastPapers/grade10IEB/Mathematics/maths.dart';
import 'package:reslocate/pastPapers/grade11/Accounting/accounting.dart';
import 'package:reslocate/pastPapers/grade11/Afrikaans/Afrikaans.dart';
import 'package:reslocate/pastPapers/grade11/AgriculturalSciences/AgriculturalScience.dart';
import 'package:reslocate/pastPapers/grade11/BusinessStudies/businessStudies.dart';
import 'package:reslocate/pastPapers/grade11/CivilTechnology/civilTechnology.dart';
import 'package:reslocate/pastPapers/grade11/ComputerApplicationsTechnology/cat.dart';
import 'package:reslocate/pastPapers/grade11/ConsumerStudies/consumerStudies.dart';
import 'package:reslocate/pastPapers/grade11/DanceStudies/danceStudies.dart';
import 'package:reslocate/pastPapers/grade11/Design/design.dart';
import 'package:reslocate/pastPapers/grade11/DramaticArts/dramaticArts.dart';
import 'package:reslocate/pastPapers/grade11/Economics/economics.dart';
import 'package:reslocate/pastPapers/grade11/ElectricalTechnology/electricalTechnology.dart';
import 'package:reslocate/pastPapers/grade11/EngineeringGraphicsAndDesign/egd.dart';
import 'package:reslocate/pastPapers/grade11/English/english.dart';
import 'package:reslocate/pastPapers/grade11/Geography/geography.dart';
import 'package:reslocate/pastPapers/grade11/History/history.dart';
import 'package:reslocate/pastPapers/grade11/HospitalityStudies/hospitalityStudies.dart';
import 'package:reslocate/pastPapers/grade11/InformationTechnology/IT.dart';
import 'package:reslocate/pastPapers/grade11/IsiXhosa/isiXhosa.dart';
import 'package:reslocate/pastPapers/grade11/LifeOrientation/LifeOrientation.dart';
import 'package:reslocate/pastPapers/grade11/LifeSciences/lifeSciences.dart';
import 'package:reslocate/pastPapers/grade11/MathematicalLiteracy/mathsLit.dart';
import 'package:reslocate/pastPapers/grade11/Mathematics/maths.dart';
import 'package:reslocate/pastPapers/grade11/MechanicalTechnology/mechinalTechnology.dart';
import 'package:reslocate/pastPapers/grade11/Music/music.dart';
import 'package:reslocate/pastPapers/grade11/PhysicalSciences/physicalSciences.dart';
import 'package:reslocate/pastPapers/grade11/ReligionStudies/religionStudies.dart';
import 'package:reslocate/pastPapers/grade11/Sesotho/sesotho.dart';
import 'package:reslocate/pastPapers/grade11/Setswana/setswana.dart';
import 'package:reslocate/pastPapers/grade11/TechnicalMathematics/technicalMath.dart';
import 'package:reslocate/pastPapers/grade11/TechnicalSciences/technicalScience.dart';
import 'package:reslocate/pastPapers/grade11/Tourism/tourism.dart';
import 'package:reslocate/pastPapers/grade11/VisualArts/visualArts.dart';
import 'package:reslocate/pastPapers/grade11IEB/BusinessStudies/businessStudies.dart';
import 'package:reslocate/pastPapers/grade11IEB/ConsumerStudies/consumerStudies.dart';
import 'package:reslocate/pastPapers/grade11IEB/English/english.dart';
import 'package:reslocate/pastPapers/grade11IEB/French/french.dart';
import 'package:reslocate/pastPapers/grade11IEB/Geography/geography.dart';
import 'package:reslocate/pastPapers/grade11IEB/History/history.dart';
import 'package:reslocate/pastPapers/grade11IEB/IsiZulu/isiZulu.dart';
import 'package:reslocate/pastPapers/grade11IEB/LifeSciences/lifeSciences.dart';
import 'package:reslocate/pastPapers/grade11IEB/MathematicalLiteracy/mathsLit.dart';
import 'package:reslocate/pastPapers/grade11IEB/Mathematics/maths.dart';
import 'package:reslocate/pastPapers/grade11IEB/PhysicalSciences/physicalSciences.dart';
import 'package:reslocate/pastPapers/grade11IEB/VisualArts/visualArts.dart';
import 'package:reslocate/pastPapers/grade12/Accounting/accounting.dart';
import 'package:reslocate/pastPapers/grade12/Afrikaans/Afrikaans.dart';
import 'package:reslocate/pastPapers/grade12/AgriculturalManagementPractices/AgriculturalManagementSciences.dart.dart';
import 'package:reslocate/pastPapers/grade12/AgriculturalSciences/AgriculturalScience.dart';
import 'package:reslocate/pastPapers/grade12/AgriculturalTechnology/AgriculturalTechnology.dart';
import 'package:reslocate/pastPapers/grade12/BusinessStudies/businessStudies.dart';
import 'package:reslocate/pastPapers/grade12/CivilTechnology/civilTechnology.dart';
import 'package:reslocate/pastPapers/grade12/ComputerApplicationsTechnology/cat.dart';
import 'package:reslocate/pastPapers/grade12/ConsumerStudies/consumerStudies.dart';
import 'package:reslocate/pastPapers/grade12/DanceStudies/danceStudies.dart';
import 'package:reslocate/pastPapers/grade12/Design/design.dart';
import 'package:reslocate/pastPapers/grade12/DramaticArts/dramaticArts.dart';
import 'package:reslocate/pastPapers/grade12/Economics/economics.dart';
import 'package:reslocate/pastPapers/grade12/ElectricalTechnology/electricalTechnology.dart';
import 'package:reslocate/pastPapers/grade12/EngineeringGraphicsAndDesign/egd.dart';
import 'package:reslocate/pastPapers/grade12/English/english.dart';
import 'package:reslocate/pastPapers/grade12/Geography/geography.dart';
import 'package:reslocate/pastPapers/grade12/History/history.dart';
import 'package:reslocate/pastPapers/grade12/HospitalityStudies/hospitalityStudies.dart';
import 'package:reslocate/pastPapers/grade12/InformationTechnology/IT.dart';
import 'package:reslocate/pastPapers/grade12/IsiNdebele/isiNdebele.dart';
import 'package:reslocate/pastPapers/grade12/IsiXhosa/isiXhosa.dart';
import 'package:reslocate/pastPapers/grade12/IsiZulu/isiZulu.dart';
import 'package:reslocate/pastPapers/grade12/LifeOrientation/LifeOrientation.dart';
import 'package:reslocate/pastPapers/grade12/LifeSciences/lifeSciences.dart';
import 'package:reslocate/pastPapers/grade12/MarineSciences/marineSciences.dart';
import 'package:reslocate/pastPapers/grade12/MathematicalLiteracy/mathsLit.dart';
import 'package:reslocate/pastPapers/grade12/Mathematics/maths.dart';
import 'package:reslocate/pastPapers/grade12/MechanicalTechnology/mechinalTechnology.dart';
import 'package:reslocate/pastPapers/grade12/Music/music.dart';
import 'package:reslocate/pastPapers/grade12/PhysicalSciences/physicalSciences.dart';
import 'package:reslocate/pastPapers/grade12/ReligionStudies/religionStudies.dart';
import 'package:reslocate/pastPapers/grade12/Sepedi/sepedi.dart';
import 'package:reslocate/pastPapers/grade12/Sesotho/sesotho.dart';
import 'package:reslocate/pastPapers/grade12/Setswana/setswana.dart';
import 'package:reslocate/pastPapers/grade12/Siswati/siswati.dart';
import 'package:reslocate/pastPapers/grade12/SouthAfricanSignLanguage/sign.dart';
import 'package:reslocate/pastPapers/grade12/TechnicalMathematics/technicalMath.dart';
import 'package:reslocate/pastPapers/grade12/TechnicalSciences/technicalScience.dart';
import 'package:reslocate/pastPapers/grade12/Tourism/tourism.dart';
import 'package:reslocate/pastPapers/grade12/Tshivenda/tshivenda.dart';
import 'package:reslocate/pastPapers/grade12/VisualArts/visualArts.dart';
import 'package:reslocate/pastPapers/grade12/Xitsonga/xitsonga.dart';
import 'package:reslocate/pastPapers/grade12IEB/APAfrikaans/APAfrikaans.dart';
import 'package:reslocate/pastPapers/grade12IEB/APEnglish/APEnglish.dart';
import 'package:reslocate/pastPapers/grade12IEB/APMath/APMath.dart';
import 'package:reslocate/pastPapers/grade12IEB/Afrikaans/AfrikaansFAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/AgriculturalManagementPractices/AgriculturalManagementSciences.dart.dart';
import 'package:reslocate/pastPapers/grade12IEB/AgriculturalSciences/AgriculturalScience.dart';
import 'package:reslocate/pastPapers/grade12IEB/BusinessStudies/businessStudies.dart';
import 'package:reslocate/pastPapers/grade12IEB/ConsumerStudies/consumerStudies.dart';
import 'package:reslocate/pastPapers/grade12IEB/DramaticArts/dramaticArts.dart';
import 'package:reslocate/pastPapers/grade12IEB/Economics/economics.dart';
import 'package:reslocate/pastPapers/grade12IEB/EnglishFAL/EnglishFAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/Equine%20studies/equineStudies.dart';
import 'package:reslocate/pastPapers/grade12IEB/Geography/geography.dart';
import 'package:reslocate/pastPapers/grade12IEB/GermanSAL/germanSAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/GreekSAL/greekSAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/GujaratiFAL/gujaratiFAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/HindiFAL/HindiFAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/HindiSAL/hindiSAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/History/history.dart';
import 'package:reslocate/pastPapers/grade12IEB/IsiXhosaFAL/isiXhosaFAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/IsiZuluHL/isiZuluHL.dart';
import 'package:reslocate/pastPapers/grade12IEB/Latin/LifeOrientation.dart';
import 'package:reslocate/pastPapers/grade12IEB/LifeSciences/lifeSciences.dart';
import 'package:reslocate/pastPapers/grade12IEB/Mandarin/MandarinSAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/MarineSciences/marineSciences.dart';
import 'package:reslocate/pastPapers/grade12IEB/MathematicalLiteracy/mathsLit.dart';
import 'package:reslocate/pastPapers/grade12IEB/Mathematics/maths.dart';
import 'package:reslocate/pastPapers/grade12IEB/Music/music.dart';
import 'package:reslocate/pastPapers/grade12IEB/Sepedi/sepediHL.dart';
import 'package:reslocate/pastPapers/grade12IEB/SiswatiFAL/siswatiFAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/SiswatiHL/siswatiHL.dart';
import 'package:reslocate/pastPapers/grade12IEB/TechnicalSciences/technicalScience.dart';
import 'package:reslocate/pastPapers/grade12IEB/Telegu/teluguSAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/Tourism/tourism.dart';
import 'package:reslocate/pastPapers/grade12IEB/Urdu/Urdu.dart';
import 'package:reslocate/pastPapers/grade12IEB/VisualCutureStudies/visualCutureStudies.dart';
import 'package:reslocate/pastPapers/grade12IEB/frenchSAL/frenchSAL.dart';
import 'package:reslocate/pastPapers/grade12IEB/portuguese/portugueseSAL.dart';

class SubjectSearchPage extends StatefulWidget {
  final String searchQuery;

  const SubjectSearchPage({super.key, required this.searchQuery});

  @override
  _SubjectSearchPageState createState() => _SubjectSearchPageState();
}

class _SubjectSearchPageState extends State<SubjectSearchPage> {
  late String _searchQuery;

  @override
  void initState() {
    super.initState();
    _searchQuery = widget.searchQuery.toLowerCase();
  }

  @override
  Widget build(BuildContext context) {
    double screenWidth = MediaQuery.of(context).size.width;

    final List<Map<String, dynamic>> subjects = [
      {
        'title': 'Grade 10',
        'curriculum': 'NSC',
        'subjects': [
          {'name': 'ACCOUNTING', 'page': const AccountingGrade10Page()},
          {
            'name': 'AGRICULTURAL SCIENCES',
            'page': const AgriculturalScienceGrade10Page()
          },
          {
            'name': 'BUSINESS STUDIES',
            'page': const BusinessStudiesGrade10Page()
          },
          {'name': 'ECONOMICS', 'page': const EconomicsGrade10Page()},
          {'name': 'ENGLISH', 'page': const EnglishGrade10Page()},
          {'name': 'GEOGRAPHY', 'page': const GeographyGrade10Page()},
          {'name': 'HISTORY', 'page': const HistoryGrade10Page()},
          {'name': 'LIFE SCIENCES', 'page': const LifeSciencesGrade10Page()},
          {
            'name': 'MATHEMATICAL LITERACY',
            'page': const MathematicalLiteracyGrade10Page()
          },
          {'name': 'MATHEMATICS', 'page': const MathsGrade10Page()},
          {
            'name': 'PHYSICAL SCIENCE',
            'page': const PhysicalSciencesGrade10Page()
          },
          {'name': 'SETSWANA', 'page': const SetswanaGrade10Page()},
          {
            'name': 'TECHNICAL MATHEMATICS',
            'page': const TechnicalMathsGrade10Page()
          },
          {
            'name': 'TECHNICAL SCIENCES',
            'page': const TechnicalScienceGrade10Page()
          },
        ],
      },
      {
        'title': 'Grade 10',
        'curriculum': 'IEB',
        'subjects': [
          {'name': 'ACCOUNTING', 'page': const AccountingGrade10IEBPage()},
          {'name': 'AFRIKAANS', 'page': const AfrikaansGrade10IEBPage()},
          {
            'name': 'BUSINESS STUDIES',
            'page': const BusinessStudiesGrade10IEBPage()
          },
          {
            'name': 'CONSUMER STUDIES',
            'page': const ConsumerStudiesGrade10IEBPage()
          },
          {'name': 'DRAMATIC ARTS', 'page': const DramaticArtsGrade10IEBPage()},
          {'name': 'ENGLISH', 'page': const EnglishGrade10IEBPage()},
          {'name': 'GEOGRAPHY', 'page': const GeographyGrade10IEBPage()},
          {'name': 'HISTORY', 'page': const HistoryGrade10IEBPage()},
          {'name': 'isiZULU', 'page': const IsiZuluGrade10IEBPage()},
          {'name': 'LIFE SCIENCES', 'page': const LifeSciencesGrade10IEBPage()},
          {
            'name': 'MATHEMATICAL LITERACY',
            'page': const MathematicalLiteracyGrade10IEBPage()
          },
          {'name': 'MATHEMATICS', 'page': const MathsGrade10IEBPage()},
        ],
      },
      {
        'title': 'Grade 11',
        'curriculum': 'NSC',
        'subjects': [
          {'name': 'ACCOUNTING', 'page': const AccountingGrade11Page()},
          {'name': 'AFRIKAANS', 'page': const AfrikaansGrade11Page()},
          {
            'name': 'AGRICULTURAL SCIENCES',
            'page': const AgriculturalScienceGrade11Page()
          },
          {
            'name': 'BUSINESS STUDIES',
            'page': const BusinessStudiesGrade11Page()
          },
          {
            'name': 'CIVIL TECHNOLOGY',
            'page': const CivilTechnologyGrade11Page()
          },
          {
            'name': 'COMPUTER APPLICATIONS TECHNOLOGY',
            'page': const CATGrade11Page()
          },
          {
            'name': 'CONSUMER STUDIES',
            'page': const ConsumerStudiesGrade11Page()
          },
          {'name': 'DANCE STUDIES', 'page': const DanceStudiesGrade11Page()},
          {'name': 'DESIGN', 'page': const DesignGrade11Page()},
          {'name': 'DRAMATIC ARTS', 'page': const DramaticArtsGrade11Page()},
          {'name': 'ECONOMICS', 'page': const EconomicsGrade11Page()},
          {
            'name': 'ELECTRICAL TECHNOLOGY',
            'page': const ElectricalTechnologyGrade11Page()
          },
          {
            'name': 'ENGINEERING GRAPHICS AND DESIGN',
            'page': const EGDGrade11Page()
          },
          {'name': 'ENGLISH', 'page': const EnglishGrade11Page()},
          {'name': 'GEOGRAPHY', 'page': const GeographyGrade11Page()},
          {'name': 'HISTORY', 'page': const HistoryGrade11Page()},
          {
            'name': 'HOSPITALITY STUDIES',
            'page': const HospitalityStudiesGrade11Page()
          },
          {'name': 'INFORMATION TECHNOLOGY', 'page': const ITGrade11Page()},
          {'name': 'ISI XHOSA', 'page': const IsiXhosaGrade11Page()},
          {
            'name': 'LIFE ORIENTATION',
            'page': const LifeOrientationGrade11Page()
          },
          {'name': 'LIFE SCIENCES', 'page': const LifeSciencesGrade11Page()},
          {
            'name': 'MATHEMATICAL LITERACY',
            'page': const MathematicalLiteracyGrade11Page()
          },
          {'name': 'MATHEMATICS', 'page': const MathsGrade11Page()},
          {
            'name': 'MECHANICAL TECHNOLOGY',
            'page': const MechanicalTechnologyGrade11Page()
          },
          {'name': 'MUSIC', 'page': const MusicGrade11Page()},
          {
            'name': 'PHYSICAL SCIENCE',
            'page': const PhysicalSciencesGrade11Page()
          },
          {
            'name': 'RELIGION STUDIES',
            'page': const ReligionStudiesGrade11Page()
          },
          {'name': 'SESOTHO', 'page': const SesothoGrade11Page()},
          {'name': 'SETSWANA', 'page': const SetswanaGrade11Page()},
          {
            'name': 'TECHNICAL MATHEMATICS',
            'page': const TechnicalMathsGrade11Page()
          },
          {
            'name': 'TECHNICAL SCIENCES',
            'page': const TechnicalScienceGrade11Page()
          },
          {'name': 'TOURISM', 'page': const TourismGrade11Page()},
          {'name': 'VISUAL ARTS', 'page': const VisualArtsGrade11Page()},
        ],
      },
      {
        'title': 'Grade 11',
        'curriculum': 'IEB',
        'subjects': [
          {
            'name': 'BUSINESS STUDIES',
            'page': const BusinessStudiesGrade11IEBPage()
          },
          {
            'name': 'CONSUMER STUDIES',
            'page': const ConsumerStudiesGrade11IEBPage()
          },
          {'name': 'ENGLISH', 'page': const EnglishGrade11IEBPage()},
          {'name': 'FRENCH', 'page': const FrenchGrade11IEBPage()},
          {'name': 'GEOGRAPHY', 'page': const GeographyGrade11IEBPage()},
          {'name': 'HISTORY', 'page': const HistoryGrade11IEBPage()},
          {'name': 'isiZULU', 'page': const IsiZuluGrade11IEBPage()},
          {'name': 'LIFE SCIENCES', 'page': const LifeSciencesGrade11IEBPage()},
          {
            'name': 'MATHEMATICAL LITERACY',
            'page': const MathematicalLiteracyGrade11IEBPage()
          },
          {'name': 'MATHEMATICS', 'page': const MathsGrade11IEBPage()},
          {
            'name': 'PHYSICAL SCIENCE',
            'page': const PhysicalSciencesGrade11IEBPage()
          },
          {'name': 'VISUAL ARTS', 'page': const VisualArtsGrade11IEBPage()},
        ],
      },
      {
        'title': 'Grade 12',
        'curriculum': 'NSC',
        'subjects': [
          {'name': 'ACCOUNTING', 'page': const AccountingGrade12Page()},
          {'name': 'AFRIKAANS', 'page': const AfrikaansGrade12Page()},
          {
            'name': 'AGRICULTURAL MANAGEMENT PRACTICES',
            'page': const AgriculturalManagementPractices()
          },
          {
            'name': 'AGRICULTURAL SCIENCES',
            'page': const AgriculturalScienceGrade12Page()
          },
          {
            'name': 'AGRICULTURAL TECHNOLOGY',
            'page': const AgriculturalTechnologyGrade12Page()
          },
          {
            'name': 'BUSINESS STUDIES',
            'page': const BusinessStudiesGrade12Page()
          },
          {
            'name': 'COMPUTER APPLICATIONS TECHNOLOGY',
            'page': const CATGrade12Page()
          },
          {
            'name': 'CIVIL TECHNOLOGY',
            'page': const CivilTechnologyGrade12Page()
          },
          {
            'name': 'CONSUMER STUDIES',
            'page': const ConsumerStudiesGrade12Page()
          },
          {'name': 'DANCE STUDIES', 'page': const DanceStudiesGrade12Page()},
          {'name': 'DESIGN', 'page': const DesignGrade12Page()},
          {'name': 'DRAMATIC ARTS', 'page': const DramaticArtsGrade12Page()},
          {'name': 'ECONOMICS', 'page': const EconomicsGrade12Page()},
          {
            'name': 'ELECTRICAL TECHNOLOGY',
            'page': const ElectricalTechnologyGrade12Page()
          },
          {
            'name': 'ENGINEERING GRAPHICS AND DESIGN',
            'page': const EGDGrade12Page()
          },
          {'name': 'ENGLISH', 'page': const EnglishGrade12Page()},
          {'name': 'GEOGRAPHY', 'page': const GeographyGrade12Page()},
          {'name': 'HISTORY', 'page': const HistoryGrade12Page()},
          {
            'name': 'HOSPITALITY STUDIES',
            'page': const HospitalityStudiesGrade12Page()
          },
          {'name': 'INFORMATION TECHNOLOGY', 'page': const ITGrade12Page()},
          {'name': 'isiNDEBELE', 'page': const IsiNdebeleGrade12Page()},
          {'name': 'isiXHOSA', 'page': const IsiXhosaGrade12Page()},
          {'name': 'isiZULU', 'page': const IsiZuluGrade12Page()},
          {
            'name': 'LIFE ORIENTATION',
            'page': const LifeOrientationGrade12Page()
          },
          {'name': 'LIFE SCIENCES', 'page': const LifeSciencesGrade12Page()},
          {'name': 'MARINE SCIENCE', 'page': const MarineSciencesGrade12Page()},
          {
            'name': 'MATHEMATICAL LITERACY',
            'page': const MathematicalLiteracyGrade12Page()
          },
          {'name': 'MATHEMATICS', 'page': const MathsGrade12Page()},
          {
            'name': 'MECHANICAL TECHNOLOGY',
            'page': const MechanicalTechnologyGrade12Page()
          },
          {'name': 'MUSIC', 'page': const MusicGrade12Page()},
          {
            'name': 'PHYSICAL SCIENCE',
            'page': const PhysicalSciencesGrade12Page()
          },
          {
            'name': 'RELIGION STUDIES',
            'page': const ReligionStudiesGrade12Page()
          },
          {'name': 'SEPEDI', 'page': const SepediGrade12Page()},
          {'name': 'SESOTHO', 'page': const SesothoGrade12Page()},
          {'name': 'SETSWANA', 'page': const SetswanaGrade12Page()},
          {'name': 'SISWATI', 'page': const SiswatiGrade12Page()},
          {
            'name': 'SOUTH AFRICAN SIGN LANGUAGE',
            'page': const SASLGrade12Page()
          },
          {
            'name': 'TECHNICAL MATHEMATICS',
            'page': const TechnicalMathsGrade12Page()
          },
          {
            'name': 'TECHNICAL SCIENCES',
            'page': const TechnicalScienceGrade12Page()
          },
          {'name': 'TOURISM', 'page': const TourismGrade12Page()},
          {'name': 'TSHIVENDA', 'page': const TshivendaGrade12Page()},
          {'name': 'VISUAL ARTS', 'page': const VisualArtsGrade12Page()},
          {'name': 'XITSONGA', 'page': const XitsongaGrade12Page()},
        ],
      },
      {
        'title': 'Grade 12',
        'curriculum': 'IEB',
        'subjects': [
          {
            'name': 'ADVANCED PROGRAMME AFRIKAANS',
            'page': const APAfrikaansGrade12IEBPage(),
          },
          {
            'name': 'ADVANCED PROGRAMME ENGLISH',
            'page': const APEnglishGrade12IEBPage(),
          },
          {
            'name': 'ADVANCED PROGRAMME MATHEMATICS',
            'page': const APMathGrade12IEBPage(),
          },
          {
            'name': 'AFRIKAANS FAL',
            'page': const AfrikaansFALGrade12IEBPage(),
          },
          {
            'name': 'AGRICULTURAL MANAGEMENT PRACTICES',
            'page': const AgriculturalManagementPracticesIEB(),
          },
          {
            'name': 'AGRICULTURAL SCIENCES',
            'page': const AgriculturalScienceGrade12IEBPage(),
          },
          {
            'name': 'BUSINESS STUDIES',
            'page': const BusinessStudiesGrade12IEBPage(),
          },
          {
            'name': 'CONSUMER STUDIES',
            'page': const ConsumerStudiesGrade12IEBPage(),
          },
          {
            'name': 'DRAMATIC ARTS',
            'page': const DramaticArtsGrade12IEBPage(),
          },
          {
            'name': 'ECONOMICS',
            'page': const EconomicsGrade12IEBPage(),
          },
          {
            'name': 'ENGLISH FAL',
            'page': const EnglishFALGrade12IEBPage(),
          },
          {
            'name': 'EQUINE STUDIES',
            'page': const EquineStudiesGrade12IEBPage(),
          },
          {
            'name': 'FRENCH SAL',
            'page': const FrenchSALGrade12IEBPage(),
          },
          {
            'name': 'GEOGRAPHY',
            'page': const GeographyGrade12IEBPage(),
          },
          {
            'name': 'GERMAN SAL',
            'page': const GermanSALGrade12IEBPage(),
          },
          {
            'name': 'GREEK SAL',
            'page': const GreekSALGrade12IEBPage(),
          },
          {
            'name': 'GUJARATI FAL',
            'page': const GujaratiFALGrade12IEBPage(),
          },
          {
            'name': 'HINDI FAL',
            'page': const HindiFALGrade12IEBPage(),
          },
          {
            'name': 'HINDI SAL',
            'page': const HindiSALGrade12IEBPage(),
          },
          {
            'name': 'HISTORY',
            'page': const HistoryGrade12IEBPage(),
          },
          {
            'name': 'ISIZULU HOME LANGUAGE',
            'page': const IsiZuluHLGrade12IEBPage(),
          },
          {
            'name': 'ISIXHOSA FAL',
            'page': const IsiXhosaFALGrade12IEBPage(),
          },
          {
            'name': 'LATIN SAL',
            'page': const LatinSALGrade12IEBPage(),
          },
          {
            'name': 'LIFE SCIENCES',
            'page': const LifeSciencesGrade12IEBPage(),
          },
          {
            'name': 'MANDARIN SAL',
            'page': const MandarinSALGrade12IEBPage(),
          },
          {
            'name': 'MARINE SCIENCE',
            'page': const MarineSciencesGrade12IEBPage(),
          },
          {
            'name': 'MATHEMATICAL LITERACY',
            'page': const MathematicalLiteracyGrade12IEBPage(),
          },
          {
            'name': 'MATHEMATICS',
            'page': const MathsGrade12IEBPage(),
          },
          {
            'name': 'MUSIC',
            'page': const MusicGrade12IEBPage(),
          },
          {
            'name': 'PORTUGUESE SAL',
            'page': const PortugueseSALGrade12IEBPage(),
          },
          {
            'name': 'SEPEDI HL',
            'page': const SepediHLGrade12IEBPage(),
          },
          {
            'name': 'SISWATI FAL',
            'page': const SiswatiFALGrade12IEBPage(),
          },
          {
            'name': 'SISWATI HL',
            'page': const SiswatiHLGrade12IEBPage(),
          },
          {
            'name': 'TECHNICAL SCIENCES',
            'page': const TechnicalScienceGrade12IEBPage(),
          },
          {
            'name': 'TELUGU SAL',
            'page': const TeleguSALGrade12IEBPage(),
          },
          {
            'name': 'TOURISM',
            'page': const TourismGrade12IEBPage(),
          },
          {
            'name': 'URDU SAL',
            'page': const UrduSALGrade12IEBPage(),
          },
          {
            'name': 'VISUAL CULTURE STUDIES',
            'page': const VisualCultureStudiesGrade12IEBPage(),
          },
        ],
      }
    ];

    return Scaffold(
      backgroundColor: Colors.white,
      appBar: AppBar(
        backgroundColor: Colors.white,
        elevation: 0,
        toolbarHeight: 100,
        automaticallyImplyLeading: false,
        title: Row(
          crossAxisAlignment: CrossAxisAlignment.center,
          children: [
            IconButton(
              icon: const Icon(Icons.arrow_back, color: Color(0xFF0D47A1)),
              onPressed: () {
                Navigator.pop(context);
              },
            ),
            SvgPicture.asset(
              'assets/images/reslocate_logo.svg',
              height: 50,
            ),
            const SizedBox(width: 10),
            const Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  'Search Results',
                  style: TextStyle(
                    fontSize: 20,
                    fontWeight: FontWeight.bold,
                    color: Color(0xFF0D47A1),
                  ),
                ),
              ],
            ),
          ],
        ),
        bottom: PreferredSize(
          preferredSize: const Size.fromHeight(1.5),
          child: Container(
            height: 1.5,
            decoration: const BoxDecoration(
              gradient: LinearGradient(
                colors: [Color(0xFF0D47A1), Color(0xFF00E4BA)],
                begin: Alignment.centerLeft,
                end: Alignment.centerRight,
              ),
            ),
          ),
        ),
      ),
      body: Builder(
        builder: (context) {
          // Filter subjects
          final List<Widget> subjectCards = subjects
              .map((subjectGroup) {
                final filteredSubjects =
                    (subjectGroup['subjects'] as List<Map<String, dynamic>>)
                        .where((subject) => subject['name']
                            .toString()
                            .toLowerCase()
                            .contains(_searchQuery))
                        .toList();

                if (filteredSubjects.isEmpty) return null;

                return Card(
                  margin:
                      const EdgeInsets.symmetric(vertical: 8, horizontal: 16),
                  elevation: 0,
                  shape: RoundedRectangleBorder(
                    borderRadius: BorderRadius.circular(12),
                  ),
                  child: Container(
                    decoration: BoxDecoration(
                      gradient: const LinearGradient(
                        colors: [Color(0xFFE3F2FA), Color(0xFFBBDEFB)],
                        begin: Alignment.topLeft,
                        end: Alignment.bottomRight,
                      ),
                      borderRadius: BorderRadius.circular(12),
                    ),
                    child: Column(
                      children: [
                        ListTile(
                          title: Text(
                            subjectGroup['title'],
                            style: const TextStyle(
                              fontWeight: FontWeight.bold,
                              fontSize: 16,
                              color: Colors.black,
                            ),
                          ),
                          subtitle: Text(
                            subjectGroup['curriculum'],
                            style: const TextStyle(
                              fontWeight: FontWeight.bold,
                              fontSize: 14,
                              color: Colors.black,
                            ),
                          ),
                        ),
                        const Divider(thickness: 2, color: Colors.black12),
                        ...filteredSubjects.map((subject) {
                          return _buildSubjectCard(
                            subjectName: subject['name'],
                            subjectPage: subject['page'],
                            screenWidth: screenWidth,
                          );
                        }),
                      ],
                    ),
                  ),
                );
              })
              .where((element) => element != null) // Remove null entries
              .cast<Widget>()
              .toList();

          // Check if no subjects were found
          if (subjectCards.isEmpty) {
            return const Center(
              child: Text(
                'No Past Papers Found',
                style: TextStyle(
                  fontSize: 18,
                  color: Colors.black54,
                ),
              ),
            );
          }

          // Display the filtered subjects
          return ListView(children: subjectCards);
        },
      ),
    );
  }

  Widget _buildSubjectCard({
    required String subjectName,
    required Widget subjectPage,
    required double screenWidth,
  }) {
    return GestureDetector(
      onTap: () {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (context) => subjectPage),
        );
      },
      child: Card(
        margin: const EdgeInsets.symmetric(vertical: 8, horizontal: 16),
        shape: RoundedRectangleBorder(
          borderRadius: BorderRadius.circular(12), // Rounded corners
        ),
        elevation: 0, // Increased shadow
        child: Container(
          decoration: BoxDecoration(
            gradient: const LinearGradient(
              colors: [Colors.blueAccent, Colors.blue], // Gradient colors
              begin: Alignment.topLeft,
              end: Alignment.bottomRight,
            ),
            borderRadius:
                BorderRadius.circular(12), // Match card's rounded corners
          ),
          padding: const EdgeInsets.all(16.0),
          child: SizedBox(
            width: screenWidth,
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  subjectName,
                  style: const TextStyle(
                    fontSize: 20,
                    fontWeight: FontWeight.bold,
                    color: Colors.white, // Text color
                  ),
                ),
              ],
            ),
          ),
        ),
      ),
    );
  }
}
